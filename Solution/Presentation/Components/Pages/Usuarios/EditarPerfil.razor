@page "/Perfil/Editar"
@inherits Big.Pages.Perfil.EditarPerfilBase
@rendermode InteractiveServer

<div class="container mt-5">
    <div class="card shadow-lg p-4">
        <h3 class="text-center"><i class="bi bi-person-circle"></i> Meu Perfil</h3>
        
        @if (usuario == null)
        {
            <p>Carregando...</p>
        }
        else
        {
            <EditForm Model="@usuario" OnValidSubmit="SalvarAlteracoes">
                <DataAnnotationsValidator />

                <div class="text-center mb-3">
                    <img src="@usuario.FotoPerfilUrl" alt="Foto de Perfil" class="rounded-circle border shadow-sm"
                         style="width: 120px; height: 120px;" />
                    <div class="mt-2">
                        <InputText class="form-control w-50 mx-auto" @bind-Value="usuario.FotoPerfilUrl" placeholder="URL da Foto" />
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Nome Completo:</label>
                        <InputText class="form-control" @bind-Value="usuario.NomeCompleto" />
                        <ValidationMessage For="@(() => usuario.NomeCompleto)" />
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Email:</label>
                        <InputText class="form-control" @bind-Value="usuario.Email" Disabled="true" />
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <label class="form-label">CPF:</label>
                        <InputText class="form-control" @bind-Value="usuario.CPF" />
                        <ValidationMessage For="@(() => usuario.CPF)" />
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Data de Nascimento:</label>
                        <InputDate class="form-control" @bind-Value="usuario.DataNascimento" />
                    </div>
                </div>

                <div class="mt-3">
                    <label class="form-label">Endereço:</label>
                    <InputText class="form-control" @bind-Value="usuario.Endereco" />
                    <ValidationMessage For="@(() => usuario.Endereco)" />
                </div>

                <div class="mt-4 text-center">
                    <button type="submit" class="btn btn-success w-50"><i class="bi bi-save"></i> Salvar Alterações</button>
                </div>
            </EditForm>
        }
    </div>
</div>
